<script>
(function() {
  // The text segments for the voiceover
  const textSegments = [
    "ðŸ©º Want to ace your Nursing exams?",
    "The Nursing Prometric Test is a simulation exam for Nurse Technicians and Nurse Specialists.",
    "It contains 500 questions based on the SMLE and Enclex exams, divided into Easy, Medium, and Hard levels.",
    "Each question comes with a detailed rationale to help you understand, learn, and improve your score.",
    "Take the demo test for free, and unlock the full test with a secure code today! ðŸ©ºðŸ“š"
  ];

  // Function to speak all segments in sequence
  function speakSegments() {
    const voices = speechSynthesis.getVoices();
    const voice = voices.find(v => v.lang === 'en-US' && v.name.includes('Google')) || voices[0];
    let delay = 0;

    textSegments.forEach(segment => {
      setTimeout(() => {
        const utter = new SpeechSynthesisUtterance(segment);
        utter.voice = voice;
        utter.lang = 'en-US';
        // Optional emphasis for "500" or "free"
        if(segment.includes("500") || segment.includes("free")) {
          utter.pitch = 1.5;
          utter.rate = 0.9;
        } else {
          utter.pitch = 1.2;
          utter.rate = 1;
        }
        utter.volume = 1;
        speechSynthesis.speak(utter);
      }, delay);

      // Estimate speaking time: ~0.5s per 10 words + small pause
      delay += (segment.split(" ").length / 10) * 500 + 500;
    });
  }

  // Trigger voice on first user interaction (click or scroll)
  function triggerVoiceOnce() {
    speakSegments();
    document.removeEventListener('click', triggerVoiceOnce);
    document.removeEventListener('scroll', triggerVoiceOnce);
  }

  document.addEventListener('click', triggerVoiceOnce);
  document.addEventListener('scroll', triggerVoiceOnce);
})();
</script>
